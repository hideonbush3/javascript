<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>자바스크립트 연산자</title>
  </head>
  <body>
    <h1>자바스크립트 연산자</h1>
    <hr />
    <h2>표현식</h2>
    <p>
      표현식(expression) : 리터럴(값), 식별자(변수), 연산자, 함수 호출등의
      조합을 의미
    </p>
    <p>
      표현식은 평가(evaluate)(표현식이 실행되어 결과값 생성) 되어 하나의 값을
      만듦
    </p>

    <script>
      10; // 리터럴 표현식
      sum; // 식별자 표현식
      10 + 20; // 연산자 표현식
      Date(); // 함수 표현식
    </script>
    <hr />

    <h2>연산자</h2>
    <p>
      하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입 연산을 수행해서
      하나의 값을 만드는 기호를 의미
    </p>

    <p>
      할당 연산자 : 오른쪽 피연산자를 왼쪽 피연산자에 대입하는 기호이며 보통
      '='를 의미
    </p>

    <p>
      산술 연산자 : 덧셈,뺄쎔,곱셈,나눗셈 연산을 수행하는 기호. 나머지
      연산자(%), 증감/감소 연산자(++, --), 제곱(**)등도 있음
    </p>

    <script>
      let x = 10;
      let y = 3;

      document.write(`10 / 3 = ${x / y}  <br>
        10 % 3 = ${x % y}  <br>
        10 ^ 3 = ${10 ** 3}<br>`);

      // 증감연산자의 위치에 따라 전치/후치로 나뉨
      document.write(`10++ = ${x++}, 그후 x = ${x}<br>`);

      x = 10; // 위의 결과 x는 11이 됐으므로 다시 10을 대입
      document.write(`++10 = ${++x}, 그후 x = ${x}`);
    </script>
    <p>
      산술 연산자 중 + 는 피연산자 중 하나가 문자열인 경우 문자열을 연결하는
      기능을 수행함
    </p>

    <script>
      document.write("1 + 2 = ", 1 + 2, "<br>");
      document.write('"1" + 2 = ', "1" + 2, "<br>");
      document.write('"1" + "2" = ', "1" + "2", "<br><br>");

      // 긍정, 부정을 나타내는 boolean 형 값을
      // + 연산자와 함께 사용하면 (true)1, (false)0임
      document.write("1 + true = ", 1 + true, "<br>");
      document.write("false + true = ", false + true, "<br>");
      document.write("false + null = ", false + null, "<br>");
      document.write("true + null = ", true + null, "<br>");
      document.write("false + undefined = ", false + undefined);
    </script>
    <p>
      복합 할당연산자 : 할당 연산자와 산술 연산자를 혼합해서 표현식을 간단하게
      작성하는데 사용
    </p>
    <script>
      x = 1;
      x = x + 1;
      document.write(x, "<br>");

      x = 1; // 위의 결과로 x = 2가 됐으니 다시 1로 할당
      x += 1; // x = x + 1; 의 syntactic sugar
      // 문법적 기능은 그대로인데 그것을 읽는 사람이 직관적으로
      // 쉽게 코드를 읽을 수 있게 만든다는 것
      // 더욱 간결하고, 명확한 표현 가능
      document.write(x, "<br>");
    </script>
    <hr />

    <h2>비교연산자</h2>
    <p>좌항과 우항의 피연산자를 비교해서 큰지 작은지 같은지 알아보는 연산자</p>
    <p>결과값은 true 나 false로 반환</p>

    <script>
      x = 10;
      y = 5;
      document.write(`10 > 5 : ${x > y}, <br>`);
      document.write(`10 == 5 : ${x == y}, <br>`); // 값의 동일여부 false
      document.write(`10 === 5 : ${x === y}, <br>`); // 값과 타입의 동일여부 false

      y = 10;
      document.write(`10 == 10 : ${x == y}, <br>`); // true
      document.write(`10 === 10 : ${x === y}, <br>`); // true

      y = 10n;
      document.write(`10 == 10n : ${x == y}, <br>`); // true
      document.write(`10 === 10n : ${x === y}, <br>`); // false (n을 붙이면 BigInt타입)

      y = "10";
      document.write(`10 == '10' : ${x == y}, <br>`); // true
      // 자바스크립트에서 == 연산자로 비교시
      // 변수들의 자료형을 일치시키는 암묵적 형변환 발생
      // 비교연산자는 경우에 따라 수많은 부작용 양산 : === 추천!
      document.write(`10 === '10' : ${x === y}, <br>`);
    </script>
    <hr />

    <h3>삼항연산자</h3>
    <p>if ~ eles의 sytantic sugar</p>
    <p>규칙 -> 변수 = (조건식) ? 참일때의 값 : 거짓일때의 값</p>
    <script>
      // 평균점수가 60 이상이면 '합격' 아니면 '불합격'
      // let jumsu = prompt('몇점 맞으셨어요?');
      let result = jumsu >= 60 ? `합격` : `불합격`;
      document.write(`평균점수가 ${jumsu}라면,
      결과는 ${result} 입니다 ㅋㅋ<br>`);

      if (jumsu >= 60) {
        document.write(`합격`);
      } else {
        document.write(`불합격ㅋㅋ`);
      }
    </script>
    <hr />
    <h2>논리연산자</h2>
    <p>
      boolean 표현식에 대한 논리합OR(||) 또는 논리곱AND(&&) 또는 부정NOT(!)
      연산을 수행하는 기호 비교연산에서 null과 undefined는 false(0)임
    </p>

    <script>
      document.write("true OR false : ", true || false, "<br>");
      document.write("true AND false : ", true && false, "<br>");
      document.write("1 AND 0 : ", 1 && 0, "<br>");
    </script>

    <script>
      // OR
      // FF - F, FT - T, TF - T, TT - T
      // val = val1 || val2 || val3 의 경우
      // 논리연산자는 왼쪽부터 오른쪽으로 순차적으로 연산을하고
      // OR 연산의 경우
      // truthy 결과가 나오는 순간 뒤의 연산은 생략하고 출력함
      // 뒤의 결과는 안봐도 비디오이기 때문
      // - 단축평가(short circuit evaluation)
      document.write("true || false : ", 1 || 0, "<br>");
      document.write("null || true : ", null || 1, "<br>");
      document.write("null || false : ", null || false, "<br>");
      document.write("undefined || true : ", undefined || 1, "<br>");
      document.write("undefined || false : ", undefined || false, "<br>");

      // AND
      // FF - F, FT - F, TF - F, TT - T
      // val = val1 && val2 && val3 의 경우
      // AND 연산의 경우
      // falsy 결과가 나오는 순간 뒤의 연산은 생략하고 출력함
      // 뒤의 결과는 안봐도 비디오이기 때문
      // - 단축평가(short circuit evaluation)
      document.write("true && false : ", 1 && 0, "<br>");
      document.write("null && true : ", null && 1, "<br>");
      document.write("undefined && true : ", undefined && 1, "<br>");
      document.write(
        "null && 1 && undefined : ",
        null && 1 && undefined,
        "<br>"
      );
    </script>

    <script>
      // AND인경우 왼쪽이 false면, 오른쪽은 볼 것도 없이 왼쪽 값을 반환
      // OR인경우 왼쪽이 true면, 오른쪽은 볼 것도 없이 왼쪽 값을 반환
      // 여기서 중요한 단어는 '왼쪽 값'이다
      // 그러므로 false로 평가되는 null과 undefined가
      // AND연산에서 왼쪽에 있는 피연산자이면 false를 출력하는게 아니라
      // null, undefined라는 값을 출력한다
      document.write(
        "null || 1 || undefined : ",
        null || 1 || undefined,
        "<br>"
      );
      document.write("null | 1 | undefined : ", null | 1 | undefined, "<br>");
      document.write("null & 1 & 2 : ", null & 1 & 2, "<br>");
      document.write("null && 1 && 2 : ", null && 1 && 2, "<br>");
      document.write("undefined && 1 && 2 : ", undefined && 1 && 2, "<br>");
    </script>
    <hr />

    <h2>변수의 자료형 알아보기</h2>
    <p>typeof 연산자를 이용하면 변수나 값의 자료형을 출력함</p>

    <script>
      document.write("숫자 10의 자료형 : ", typeof 10, "<br>"); // number
      document.write("abc의 자료형 : ", typeof "abc", "<br>"); // string
      document.write("10n 자료형 : ", typeof 10n, "<br>"); // bigint
      document.write("undefined 자료형 : ", typeof undefined, "<br>"); //undefined
      document.write("null 자료형 : ", typeof null, "<br>"); // object
      document.write("true 자료형 : ", typeof (true, false), "<br>"); // boolean
    </script>
    <hr />

    <h2>자료형 변환</h2>
    <p>
      함수와 연산자에 전달되는 값은 표현식에 적절한 자료형으로 변환됨(묵시적
      형변환)
    </p>

    <p>
      하지만, 상황에 따라 의도를 갖고 원하는 자료형으로 직접 변환해야 하는
      경우도 있음(명시적 형변환)
    </p>

    <p>어떤 값을 숫자형으로 변환하고 싶다면 Number(대상값)</p>
    <p>어떤 값을 문자열로 변환하고 싶다면 String(대상값)</p>
    <p>어떤 값을 불로 변환하고 싶다면 Boolean(대상값)</p>

    <script>
      // 나이 계산 v1 :현재년도 - 생년도
      let birthyear = prompt("혹시.. 생년도가 ?");
      const date = new Date(); // Date객체 생성
      const year = date.getFullYear();
      // 데이트의 년 정보를 호출해서 변수 year에 할당
      let age = year - birthyear;
      document.write(`아~ ${birthyear}에 태어나셨구나<br>`);
      document.write(`그럼 올해 ${age}살 되셨겠네용<br>`);
    </script>

    <!-- 입력받은 성적을 Number로 명시적 형변환하는 방식! -->
    <!--    <script>
      name = prompt("이름을 입력하세요");
      let sci = prompt("과학점수를 입력하세요");
      let phy = prompt("체육점수를 입력하세요");
      let art = prompt("미술점수를 입력하세요");
      let tot = Number(sci) + Number(phy) + Number(art);
      let avg = parseInt(tot / 3);

      document.write(`<h3>돌아온~ 성적처리 v2<h3>`);
      document.write(`이름 = ${name}<br>`);
      document.write(`과학 = ${sci}<br>`);
      document.write(`체육 = ${phy}<br>`);
      document.write(`미술 = ${art}<br>`);
      document.write(`총점 = ${tot}<br>`);
      document.write(`평점 = ${avg}<br>`);
      if (avg>=90){
        document.write('학점 = A');
      }
      else if (avg>=80){
        document.write('학점 = B');
      }
      else{
        document.write('축하합니다, F학점이예요!');
      }
    </script>-->

    <!-- 입력받은 성적값을 단항연산자로 형변환해보자 !!! -->
    <script>
      // +단항연산자로 형변환을 하는법!
      console.log("+''", +'');      //0
      console.log("+null", +null);  //0
      console.log("+false", +false);//0
      console.log("+true", +true);  //1
      console.log("+undefined", +undefined); //NaN
      console.log("+[]", +[]);      //0


      name = prompt("이름을 입력하세요");
      let sci = prompt("과학점수를 입력하세요");
      let phy = prompt("체육점수를 입력하세요");
      let art = prompt("미술점수를 입력하세요");

      // 숫자가 아닌값을 숫자형으로 묵시적으로
      // 형변환하는 방법으로
      // + 단항 연산자를 사용
      let tot = +sci + +phy + +art;
      let avg = parseInt(tot / 3);

      document.write(`<h3>돌아온~ 성적처리 v2b<h3>`);
      document.write(`이름 = ${name}<br>`);
      document.write(`과학 = ${sci}<br>`);
      document.write(`체육 = ${phy}<br>`);
      document.write(`미술 = ${art}<br>`);
      document.write(`총점 = ${tot}<br>`);
      document.write(`평점 = ${avg}<br>`);
      if (avg >= 90) {
        document.write("학점 = A");
      } else if (avg >= 80) {
        document.write("학점 = B");
      } else {
        document.write("축하합니다, F학점이예요!");
      }
    </script>
  </body>
</html>
