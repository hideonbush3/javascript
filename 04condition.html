<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>자바스크립트 조건문</title>
  </head>
  <body>
    <h1>자바스크립트 조건문</h1>
    <hr />
    <h2>개요</h2>
    <p>특정 조건에 대한 만족여부에 따라 실행할 코드를 결정하는 기능</p>
    <p>자바스크립트는 2가지의 조건문 제공 - if, switch</p>
    <hr />

    <h2>코드블록</h2>
    <p>0개 이상의 명령문을 중괄호로 묶은것</p>
    <p>
      블럭은 단독으로 사용할 수 있으나, 일반적으로 제어문이나 함수/객체 선언시
      주로 사용
    </p>

    <script>
      {
        document.write(`<b>hello, code block!</b>`);
      } // 코드블록
    </script>
    <hr />

    <h2>if문</h2>
    <p>조건을 만족할때만 코드블록을 실행함</p>
    <p>if (조건식) {실행할 코드}</p>
    <script>
      // 평균 점수가 60점 이상이면 '시험 합격'을 출력
      let avg = 68.5;

      if (avg >= 60) {
        document.write(`${avg}점 시험 합격`);
      }
    </script>
    <br />
    <script>
      // 짝수, 홀수 여부 출력
      let num = 10;
      if (num % 2 == 0) {
        document.write(`${num}은(는) 짝수예요`);
      }
      if (num % 2 != 0) {
        document.write(`${num}은(는) 홀수예요`);
      }
    </script>
    <br />
    <script>
      // 오전, 오후 구분하여 출력
      let time = `09:53:12`;
      if (Number(time[0] + time[1]) >= 12) {
        document.write(`현재 시간은 오후 ${time}`);
      }
      if (Number(time[0] + time[1]) < 12) {
        document.write(`현재 시간은 오전 ${time}`);
      }
    </script>
    <hr />

    <h2>if else 문</h2>
    <p>
      조건이 참이면 if의 코드블록을 실행하고 거짓이면 else의 코드블록을 실행
    </p>
    <p>
      if (조건식) {조건식이 참 일때 실행할 코드}<br />
      else {조건식이 거짓일때 실행할 코드}
    </p>
    <script>
      // 평균 점수가 60점 이상이면 '시험 합격'을 출력
      avg = 52;

      if (avg >= 60) {
        document.write(`${avg}점 시험 합격~`);
      } else {
        document.write(`${avg}점 시험 불합격~`);
      }
    </script>
    <br />
    <script>
      // 짝수, 홀수 여부 출력 ver 2.0
      num = 5;
      if (num % 2 == 0) {
        document.write(`${num}은(는) 짝수`);
      } else {
        document.write(`${num}은(는) 홀수`);
      }
    </script>
    <br />
    <script>
      // 오전, 오후 구분하여 출력 ver 2.0
      time = `15:53:12`;
      if (Number(time[0] + time[1]) >= 12) {
        document.write(`현재 시간은 오후 ${time} 입니다.`);
      } else {
        document.write(`현재 시간은 오전 ${time} 입니다.`);
      }
    </script>
    <br />
    <script>
      // 윤년여부를 출력
      // 조건: 4로 나누어 떨어지는 해는 윤년
      // 하지만, 연도가 100으로 나누어 떨어지는 해는 평년
      let year = 2000;
      if (year % 4 == 0 && year % 100 != 0) {
        document.write(`${year}년은 윤년입니다`);
      } else {
        document.write(`${year}년은 평년입니다`);
      }
    </script>
    <br />
    <script>
      // 로그인 v1
      let id = "admin";
      let pwd = "123456";
      let checkid = "123";
      let checkpwd = "987";

      if (checkid == id && checkpwd == pwd) {
        document.write(`회원 인증에 성공했습니다.`);
      } else {
        document.write(`회원 인증에 실패했습니다.`);
      }
    </script>
    <br />
    <script>
      // 로그인 v2 - else문을 생략가능
      id = "admin";
      pwd = "123456";
      checkid = "987";
      checkpwd = "123";

      // 로그인 실패 시(디폴트 값)
      let result = `회원 인증에 실패했습니다.`;
      // 로그인 성공 (result의 할당값이 바뀜)
      if (checkid == id && checkpwd == pwd) {
        result = `회원 인증에 성공했습니다.`;
      }
      // 출력
      document.write(result);
    </script>
    <hr />

    <h2>중첩 조건문</h2>
    <p>코드의 가독성 떨어지므로 사용 자제</p>
    <script>
      // 윤년여부를 출력
      // 조건1 : 4로 나누어 떨어지는 해는 윤년
      // 조건2 : 연도가 100으로 나누어 떨어지는 해는 평년
      // 조건3 : 근데! 그중에서 또! 뇌절로 400으로 나누어 떨어지는 해는 윤년
      // if문속에 if문 또 그 속에 if문이 하나 더 있어야 겠지요?
      year = 2000;

      if (year % 4 == 0) {
        if (year % 100 == 0) {
          if (year % 400 == 0) {
            result = "윤년";
          } else {
            result = "평년";
          }
        } else {
          result = "윤년";
        }
      } else {
        result = "평년";
      }

      document.write(year + "년은" + " " + result + "입니다.");
    </script>
    <hr />

    <h2>다중 조건문</h2>
    <p>
      다중 조건에 대한 만족여부에 따라 코드블록을 실행하려면 if ~ else 뒤에 if ~
      else 문을 더 추가함
    </p>

    <script>
      // 평균점수에 따라 수우미양가로 성적출력
      avg = 50;
      let grade;
      result = `가`; // 디폴트 값 할당해서 else문 하나 줄임
      if (avg >= 90) {
        result = "수";
      } else if (avg >= 80) {
        result = "우";
      } else if (avg >= 70) {
        result = "미";
      } else if (avg >= 60) {
        result = "양";
      }
      document.write(`당신의 평균점수는 ${avg}점이고 등급은 ${result} 입니다.`);
    </script>
    <br />
    <script>
      // 버스 기본요금 부과하기 - 나이를 입력받음
      // 미취학 아동 (~7세) : 0원
      // 어린이 (8~13) : 450원
      // 청소년 (14~19) : 720원
      // 일반 (20~) : 1200원
      // 노인 (70~) : 0원
      let age = 7;
      result = 0; // 디폴트 값
      if (age >= 70) {
        result = 0;
      } else if (age >= 20) {
        result = 1200;
      } else if (age >= 14) {
        result = 720;
      } else if (age >= 8) {
        result = 450;
      }
      document.write(`${age}살, 버스요금: ${result}원`);
    </script>
    <hr />

    <h2>조건식을 거짓으로 취급하는 값들</h2>
    <p>
      false, 0, undefined, null, NaN, ''등은 조건식에서 참이 아닌 거짓으로 취급
    </p>
    <p>''은 false이고 ' '은 true임</p>
    <script>
      result = "거짓입니다.<br>";
      if ("") {
        result = "참입니다.<br>";
      }
      document.write(result);
    </script>
    <hr />

    <h2>switch</h2>
    <p>다중 조건 if문을 가독성 있게 작성한 조건문</p>
    <p>
      switch의 표현식을 평가하여 그 값의 일치여부에 따라 case문 아래의 코드
      블럭을 실행하는 구조
    </p>
    <p>
      표현식의 평가값과 일치하는 case가 없는 경우 default문의 코드블럭을 실행함
    </p>
    <p>
      단, 표현식의 평가값과 일치하는 case문이 실행되더라도 break문이 없으면,
      switch문이 중단되지 않고 나머지 case문을 실행하게 됨 - full through
    </p>
    <p>
      switch(조건식) {<br />
      case 값1: 코드블록;<br />
      break;<br />
      case 값2: 코드블록;<br />
      break;<br />
      default: 코드블록;<br />
      break;<br />
      }
    </p>
    <br />
    <script>
      // 짝수, 홀수 여부 출력 ver 3.0
      num = 10;
      switch (num % 2) {
        case 0:
          result = "짝수";
          break;
        case 1:
          result = "홀수";
          break;
      }

      document.write(`${num}은(는) ${result}입니다`);
    </script>
    <br />
    <script>
      // 오전, 오후 구분하여 출력 ver 3.0
      time = `15:53:12`;
      switch (Number(time[0] + time[1]) >= 12) {
        case true:
          result = "오후";
          break;
        case false:
          result = "오전";
          break;
      }
      document.write(`현재시간은 ${result} ${time} 입니다`);
    </script>
    <br />
    <script>
      // 월을 입력하면 영어로 변환해서 출력
      let month = 1;
      switch (month) {
        case 1:
          result = "jan";
          break;
        case 2:
          result = "feb";
          break;
        case 3:
          result = "mar";
          break;
        case 4:
          result = "apr";
          break;
        case 5:
          result = "may";
          break;
        case 6:
          result = "jun";
          break;
        case 7:
          result = "jul";
          break;
        case 8:
          result = "aug";
          break;
        case 9:
          result = "sep";
          break;
        case 10:
          result = "oct";
          break;
        case 11:
          result = "nov";
          break;
        case 12:
          result = "dec";
          break;
        default:
          result = "잘못입력했습니다";
          break;
      }
      document.write(`${result}`);
    </script>
    <br />
    <script>
      // 월, 윤년여부(Y/N)을 입력하면 해당 월의 마지막 날을 출력
      // 1, 3, 5, 7, 8, 10, 12 - 31일
      // 4, 6, 9, 11 - 30일
      // 2 - 윤년여부에 따라 28(N)일 or 29(Y)일

      month = 2;
      isLeapYear = "Y";
      let lastDay = 0;

      switch (month) {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12:
          lastDay = 31;
          break;
        case 4:
        case 6:
        case 9:
        case 11:
          lastDay = 30;
          break;
        case 2:
          if (isLeapYear === "Y") {
            lastDay = 29;
          } else {
            lastDay = 28;
          }
          break;
      }
      document.write(`윤년여부 ${isLeapYear}인 연도의
      ${month}월 마지막 날은 ${lastDay}일이다.`);
    </script>
    <br />
    <script>
      // 평균점수에 따라 수우미양가로 성적결과 출력 ver 2.0
      avg = 0;
      switch (parseInt(avg / 10)) {
        case 10:
          result = "수";
        case 9:
          result = "수";
          break;
        case 8:
          result = "우";
          break;
        case 7:
          result = "미";
          break;
        case 6:
          result = "양";
          break;
        default:
          result = "가";
          break;
      }
      document.write(`평균점수는 ${avg}점이고 성적은 ${result}이다.`);
    </script>
    <br />
    <script>
      // 평균점수에 따라 수우미양가로 성적결과 출력
      // case에 상수 대신 비교연산자 쓰는 방식인데
      // 이렇게 쓸바엔 차라리 if else문이 더 효율적인듯
      avg = 100;
      result = "가";
      switch (true) {
        case avg >= 90:
          result = "수";
          break;
        case avg >= 80:
          result = "우";
          break;
        case avg >= 70:
          result = "미";
          break;
        case avg >= 60:
          result = "양";
          break;
      }
      document.write(`평균점수는 ${avg}점이고 성적은 ${result}이다.`);
    </script>
    <p>
      javascript 한정으로 switch의 case문에 비교 연산자를 이용한 범위를 검사하는
      코드를 작성할 수도 있음
      (https://stackoverflow.com/questions/5619832/switch-on-ranges-of-integers-in-javascript)
    </p>
    <hr />

    <h2>if vs switch</h2>
    <p>if문의 경우 조건식 검사는 위에서 아래로 순차적으로 진행됨</p>
    <p>
      운이 나빠서, 만족하는 조건식이 맨 아래에 있다면 위의 조건식 모두를 비교한
      뒤에야 비로소 도달하게 됨
    </p>
    <p>
      하지만, switch문은 평가식의 결과값을 판단하고, 해당하는 case절로 바로
      찾아가기 때문에 if문보다 효율이 좋음
    </p>
  </body>
</html>
